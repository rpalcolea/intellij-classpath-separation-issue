# Issue with IntelliJ and compile/runtime classpath separation

When running this project with `./gradlew bootRun`, we see this classpath:

```
 501 44476 44397   0  5:45PM ??         0:02.16 /Users/rperezalcolea/.sdkman/candidates/java/8.0.242-zulu/bin/java -Xverify:none -XX:TieredStopAtLevel=1 -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp /Users/rperezalcolea/Downloads/intellij-classpath-issue/build/classes/java/main:/Users/rperezalcolea/Downloads/intellij-classpath-issue/build/resources/main:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-autoconfigure/2.3.0.RELEASE/63e909ec18045377f5bcbedbf29f54691dc54ba0/spring-boot-autoconfigure-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.3.0.RELEASE/52fabd810811f5352ebf6a0a7049550f7d4ec1b9/spring-boot-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-logging/2.3.0.RELEASE/fe2b3809c5763dd7fe02ab174ebe5ee9ed708fbe/spring-boot-starter-logging-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-json/2.3.0.RELEASE/dfdd3336ee920e4bc75f4ed726c3894c7821c31b/spring-boot-starter-json-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-tomcat/2.3.0.RELEASE/a8038c9ce2beb7bd3c1980ecadd79f65f36d9311/spring-boot-starter-tomcat-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-web/2.3.0.RELEASE/459a5d406c56770d9616c5b272bae9fbc777a994/spring-boot-starter-web-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter/2.3.0.RELEASE/7b65ef478cf4d21ec70432e11055c2c83371b305/spring-boot-starter-2.3.0.RELEASE.jar:/Users/rperezalcolea/Downloads/intellij-classpath-issue/testrepogen/mavenrepo/test/nebula/a/1.0.0/a-1.0.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/27.0-android/d0aeb8cc267a80b2908ccdd5dc18e3c14cb2b155/guava-27.0-android.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/jakarta.annotation/jakarta.annotation-api/1.3.5/59eb84ee0d616332ff44aba065f3888cf002cd2d/jakarta.annotation-api-1.3.5.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.2.6.RELEASE/fc54ea95c4c96cd0ab5272319905d4da5d632383/spring-webmvc-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-web/5.2.6.RELEASE/8cc2dbd266eb8f02d2df0895c8e887269e8aed88/spring-web-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-context/5.2.6.RELEASE/f8f4420f268b054db12bf0dc7128adc09ab39a7/spring-context-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aop/5.2.6.RELEASE/84fffb7cad5816763683a3f251f942aa9f667a7e/spring-aop-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/5.2.6.RELEASE/d1b4c338e52dac001a48e29a605bb8f73572ad84/spring-beans-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-expression/5.2.6.RELEASE/ae0bc9fdf6cf08d885b9aee26c21efa24245d46c/spring-expression-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.2.6.RELEASE/5533695a01f5a1163428932abf6c5ba70e837a2d/spring-core-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.26/a78a8747147d2c5807683e76ec2b633e95c14fe9/snakeyaml-1.26.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jdk8/2.11.0/cca91d6375258fd7ff2a6abb7bf91eef492bd606/jackson-datatype-jdk8-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jsr310/2.11.0/168b2d0e11478b9f0a1bfccd62d6b5e8547b1e6f/jackson-datatype-jsr310-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-parameter-names/2.11.0/950a1e9a7c1093e7ffd92b216d5a0667f1e39058/jackson-module-parameter-names-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.11.0/8f5aaf3878b0647ff3a16610af53b1a5c05d9f15/jackson-databind-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-annotations/2.11.0/c626020ae55d19c690d25cb51c1532ba76e5890f/jackson-annotations-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-core/2.11.0/f84302e14648f9f63c0c73951054aeb2ff0b810a/jackson-core-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-to-slf4j/2.13.2/7e2845170ed4fdeb87f1fdc9131b743c61645da3/log4j-to-slf4j-2.13.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.13.2/567ea514dedd8679c429c5b5b39b0d67b6464c3c/log4j-api-2.13.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-jcl/5.2.6.RELEASE/47b092c5c7a97ad330ae29d84d64e42c63a11b7a/spring-jcl-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.glassfish/jakarta.el/3.0.3/dab46ee1ee23f7197c13d7c40fce14817c9017df/jakarta.el-3.0.3.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.3/864344400c3d4d92dfeb0a305dc87d953677c03c/logback-core-1.2.3.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.slf4j/jul-to-slf4j/1.7.30/d58bebff8cbf70ff52b59208586095f467656c30/jul-to-slf4j-1.7.30.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.30/b5a4b6d16ab13e34a88fae84c35cd5d68cac922c/slf4j-api-1.7.30.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-websocket/9.0.35/62ab2d7d7d029ea728ea8f8d3151ba93882b52ca/tomcat-embed-websocket-9.0.35.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.35/8a99064fce4b152a7dc9bea1798ba828a2cecf0f/tomcat-embed-core-9.0.35.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/failureaccess/1.0/50bacb0bdbbeeda25142aff57e2214c402e1193c/failureaccess-1.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/b421526c5f297295adef1c886e5246c39d4ac629/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.code.findbugs/jsr305/3.0.2/25ea2e8b0c338a877313bd4672d3fe056ea78f0d/jsr305-3.0.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-compat-qual/2.5.2/dc0b20906c9e4b9724af29d11604efa574066892/checker-compat-qual-2.5.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.2.0/88e3c593e9b3586e1c6177f89267da6fc6986f0c/error_prone_annotations-2.2.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.j2objc/j2objc-annotations/1.1/ed28ded51a8b1c6b112568def5f4b455e6809019/j2objc-annotations-1.1.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.codehaus.mojo/animal-sniffer-annotations/1.17/f97ce6decaea32b36101e37979f8b647f00681fb/animal-sniffer-annotations-1.17.jar com.example.demo.DemoApplication
```

Notice that `guava-27.0-android.jar` is present.

When running with intellij, we get

```
 501 44504 46721   0  5:46PM ??         0:02.45 /Users/rperezalcolea/.sdkman/candidates/java/current/bin/java -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:/Users/rperezalcolea/Library/Application Support/JetBrains/Toolbox/apps/IDEA-U/ch-0/201.7223.91/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=54820:/Users/rperezalcolea/Library/Application Support/JetBrains/Toolbox/apps/IDEA-U/ch-0/201.7223.91/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/charsets.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/cldrdata.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/dnsns.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/jaccess.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/localedata.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/nashorn.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/openjsse.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/sunec.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/sunjce_provider.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/sunpkcs11.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/ext/zipfs.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/jce.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/jfr.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/jsse.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/management-agent.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/resources.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/jre/lib/rt.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/lib/dt.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/lib/jconsole.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/lib/sa-jdi.jar:/Users/rperezalcolea/.sdkman/candidates/java/current/lib/tools.jar:/Users/rperezalcolea/Downloads/intellij-classpath-issue/build/classes/java/main:/Users/rperezalcolea/Downloads/intellij-classpath-issue/build/resources/main:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-web/2.3.0.RELEASE/459a5d406c56770d9616c5b272bae9fbc777a994/spring-boot-starter-web-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter/2.3.0.RELEASE/7b65ef478cf4d21ec70432e11055c2c83371b305/spring-boot-starter-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/19.0/6ce200f6b23222af3d8abb6b6459e6c44f4bb0e9/guava-19.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-json/2.3.0.RELEASE/dfdd3336ee920e4bc75f4ed726c3894c7821c31b/spring-boot-starter-json-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-tomcat/2.3.0.RELEASE/a8038c9ce2beb7bd3c1980ecadd79f65f36d9311/spring-boot-starter-tomcat-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-webmvc/5.2.6.RELEASE/fc54ea95c4c96cd0ab5272319905d4da5d632383/spring-webmvc-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-web/5.2.6.RELEASE/8cc2dbd266eb8f02d2df0895c8e887269e8aed88/spring-web-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-autoconfigure/2.3.0.RELEASE/63e909ec18045377f5bcbedbf29f54691dc54ba0/spring-boot-autoconfigure-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot/2.3.0.RELEASE/52fabd810811f5352ebf6a0a7049550f7d4ec1b9/spring-boot-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework.boot/spring-boot-starter-logging/2.3.0.RELEASE/fe2b3809c5763dd7fe02ab174ebe5ee9ed708fbe/spring-boot-starter-logging-2.3.0.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/jakarta.annotation/jakarta.annotation-api/1.3.5/59eb84ee0d616332ff44aba065f3888cf002cd2d/jakarta.annotation-api-1.3.5.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.2.6.RELEASE/5533695a01f5a1163428932abf6c5ba70e837a2d/spring-core-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.26/a78a8747147d2c5807683e76ec2b633e95c14fe9/snakeyaml-1.26.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jdk8/2.11.0/cca91d6375258fd7ff2a6abb7bf91eef492bd606/jackson-datatype-jdk8-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.datatype/jackson-datatype-jsr310/2.11.0/168b2d0e11478b9f0a1bfccd62d6b5e8547b1e6f/jackson-datatype-jsr310-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-parameter-names/2.11.0/950a1e9a7c1093e7ffd92b216d5a0667f1e39058/jackson-module-parameter-names-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.11.0/8f5aaf3878b0647ff3a16610af53b1a5c05d9f15/jackson-databind-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.glassfish/jakarta.el/3.0.3/dab46ee1ee23f7197c13d7c40fce14817c9017df/jakarta.el-3.0.3.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-websocket/9.0.35/62ab2d7d7d029ea728ea8f8d3151ba93882b52ca/tomcat-embed-websocket-9.0.35.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.35/8a99064fce4b152a7dc9bea1798ba828a2cecf0f/tomcat-embed-core-9.0.35.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-context/5.2.6.RELEASE/f8f4420f268b054db12bf0dc7128adc09ab39a7/spring-context-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/5.2.6.RELEASE/d1b4c338e52dac001a48e29a605bb8f73572ad84/spring-beans-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-to-slf4j/2.13.2/7e2845170ed4fdeb87f1fdc9131b743c61645da3/log4j-to-slf4j-2.13.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-classic/1.2.3/7c4f3c474fb2c041d8028740440937705ebb473a/logback-classic-1.2.3.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.slf4j/jul-to-slf4j/1.7.30/d58bebff8cbf70ff52b59208586095f467656c30/jul-to-slf4j-1.7.30.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-jcl/5.2.6.RELEASE/47b092c5c7a97ad330ae29d84d64e42c63a11b7a/spring-jcl-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-core/2.11.0/f84302e14648f9f63c0c73951054aeb2ff0b810a/jackson-core-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-annotations/2.11.0/c626020ae55d19c690d25cb51c1532ba76e5890f/jackson-annotations-2.11.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-aop/5.2.6.RELEASE/84fffb7cad5816763683a3f251f942aa9f667a7e/spring-aop-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.springframework/spring-expression/5.2.6.RELEASE/ae0bc9fdf6cf08d885b9aee26c21efa24245d46c/spring-expression-5.2.6.RELEASE.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.13.2/567ea514dedd8679c429c5b5b39b0d67b6464c3c/log4j-api-2.13.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.slf4j/slf4j-api/1.7.30/b5a4b6d16ab13e34a88fae84c35cd5d68cac922c/slf4j-api-1.7.30.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.2.3/864344400c3d4d92dfeb0a305dc87d953677c03c/logback-core-1.2.3.jar:/Users/rperezalcolea/Downloads/intellij-classpath-issue/testrepogen/mavenrepo/test/nebula/a/1.0.0/a-1.0.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/27.0-android/d0aeb8cc267a80b2908ccdd5dc18e3c14cb2b155/guava-27.0-android.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/failureaccess/1.0/50bacb0bdbbeeda25142aff57e2214c402e1193c/failureaccess-1.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/b421526c5f297295adef1c886e5246c39d4ac629/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.code.findbugs/jsr305/3.0.2/25ea2e8b0c338a877313bd4672d3fe056ea78f0d/jsr305-3.0.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.checkerframework/checker-compat-qual/2.5.2/dc0b20906c9e4b9724af29d11604efa574066892/checker-compat-qual-2.5.2.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.errorprone/error_prone_annotations/2.2.0/88e3c593e9b3586e1c6177f89267da6fc6986f0c/error_prone_annotations-2.2.0.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/com.google.j2objc/j2objc-annotations/1.1/ed28ded51a8b1c6b112568def5f4b455e6809019/j2objc-annotations-1.1.jar:/Users/rperezalcolea/.gradle/caches/modules-2/files-2.1/org.codehaus.mojo/animal-sniffer-annotations/1.17/f97ce6decaea32b36101e37979f8b647f00681fb/animal-sniffer-annotations-1.17.jar com.example.demo.DemoApplication
```

Notice that `guava-19.0.jar` and `guava-27.0-android.jar` are present in the classpath